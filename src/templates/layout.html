{{define "layout"}}

<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>{{if .Title}}{{.Title}} â€” Awesome Web App{{else}}Awesome Web App{{end}}</title>
        <link rel="stylesheet" href="/static/style.css">
    </head>

    <body>
        <header class="bg-emerald-500 flex justify-between items-center px-3 py-2">
            <a href="/"><h1 class="text-white bg-blue-600 p-1 -skew-x-6 hover:skew-x-0 transition">Awesome Web App</h1></a>

            <section class="flex">
                {{if .CurrentUser}}
                    <p class="border-r p-1 border-emerald-600">Hello, {{if .CurrentUser.Username.Valid}}{{.CurrentUser.Username.Value}}{{else}}dear user{{end}}!</p>
                    <a class="border-r p-1 border-emerald-600 underline hover:bg-emerald-600 hover:text-white hover:no-underline transition" href="/profile/">Profile</a>
                    <form action="/auth/logout/" method="post">
                        <button class="p-1 underline hover:bg-emerald-600 hover:text-white hover:no-underline transition" type="submit">Logout</button>
                    </form>
                {{else}}
                    <a href="/auth/login/">
                        <img src="/static/google_signin_button.svg" alt="Sign in with Google">
                    </a>
                {{end}}
            </section>
        </header>
        <main class="max-w-screen-md mx-auto py-3">
            {{template "content" .}}
        </main>
    </body>
</html>

{{end}}
